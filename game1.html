<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lucky Bet | Coin Flip</title>
<style>
body {
    margin:0;
    font-family: Arial, sans-serif;
    background:#121212;
    color:#fff;
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:30px;
}
.header {
    font-size:28px;
    font-weight:bold;
    margin-bottom:20px;
    color:#e91e63;
    text-align:center;
}
.balance {
    font-size:22px;
    margin-bottom:20px;
    color:#4caf50;
}
.amount-container {
    display:flex;
    gap:10px;
    margin-bottom:20px;
}
.amount-container input {
    width:80px;
    padding:6px;
    font-size:16px;
    border-radius:6px;
    border:none;
    text-align:center;
}
.coin img {
    width:160px;
    height:160px;
    border-radius:50%;
    margin-bottom:20px;
    border:4px solid #e91e63;
}
.buttons {
    display:flex;
    gap:20px;
    margin-bottom:20px;
}
.buttons button {
    padding:12px 24px;
    font-size:16px;
    font-weight:bold;
    border:none;
    border-radius:8px;
    cursor:pointer;
    background:#e91e63;
    color:#fff;
    display:flex;
    align-items:center;
    gap:8px;
}
.buttons button:hover {
    background:#ff4081;
}
.result {
    font-size:20px;
    margin-bottom:20px;
    min-height:28px;
    text-align:center;
}
.history{
    margin-top:20px;
    font-size:16px;
    width:90%;
    max-width:400px;
}
.history ul{
    list-style:none;
    padding-left:0;
}
.history li{
    background:#1f1f2f;
    margin-bottom:6px;
    padding:6px 10px;
    border-radius:6px;
    display:flex;
    justify-content:space-between;
}
</style>
</head>
<body>

<div class="header">ðŸª™ Lucky Bet | Coin Flip</div>
<div class="balance" id="balance">Balance: à§³1000</div>

<div class="amount-container">
    <label>Bet à§³</label>
    <input type="number" id="betAmount" value="50" min="10">
</div>

<div class="coin">
    <img id="coinImg" src="https://i.ibb.co/3m8X2xv/heads-icon.png" alt="Coin">
</div>

<div class="buttons">
    <button onclick="flipCoin('Heads')">
      <img src="https://i.ibb.co/3m8X2xv/heads-icon.png" width="32"> Heads
    </button>
    <button onclick="flipCoin('Tails')">
      <img src="https://i.ibb.co/Tf8Qvcx/tails-icon.png" width="32"> Tails
    </button>
</div>

<div class="result" id="result"></div>

<div class="history">
    <strong>Recent Flips:</strong>
    <ul id="historyList"></ul>
</div>

<script>
let balance = 1000;
const balanceDisplay = document.getElementById('balance');
const coinImg = document.getElementById('coinImg');
const resultDiv = document.getElementById('result');
const historyList = document.getElementById('historyList');
const betInput = document.getElementById('betAmount');

function addHistory(choice, outcome, bet, resultText){
    const li = document.createElement("li");
    li.innerHTML = `<span>${choice} â†’ ${outcome}</span><span>${resultText} (à§³${bet})</span>`;
    historyList.prepend(li);
    if(historyList.children.length>8){
        historyList.removeChild(historyList.lastChild);
    }
}

function flipCoin(userChoice){
    const bet = parseInt(betInput.value);
    if(isNaN(bet) || bet <=0 || bet > balance){
        alert("Invalid bet amount!");
        return;
    }

    // spinning animation GIF (direct link)
    coinImg.src = "https://i.ibb.co/ZVPJV6q/spin-coin.gif"; 
    resultDiv.innerText = "";

    setTimeout(() => {
        // 40% chance win, 60% lose
        const random = Math.random();
        const outcome = random < 0.4 ? userChoice : (userChoice==='Heads'?'Tails':'Heads');

        coinImg.src = outcome === "Heads" 
            ? "https://i.ibb.co/3m8X2xv/heads-icon.png" 
            : "https://i.ibb.co/Tf8Qvcx/tails-icon.png";

        let resultText = '';
        if(userChoice === outcome){
            balance += bet;
            resultText = 'ðŸŽ‰ WON';
        } else {
            balance -= bet;
            resultText = 'ðŸ˜ž LOST';
        }

        balanceDisplay.innerText = "Balance: à§³"+balance;
        resultDiv.innerText = `${resultText} | Bet: à§³${bet}`;
        addHistory(userChoice, outcome, bet, resultText);
    }, 1200);
}
</script>

</body>
</html>
