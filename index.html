<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Login | Biniyog</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:sans-serif;background:#f2f2f2}
.card{max-width:360px;margin:60px auto;background:#fff;padding:25px;border-radius:15px}
h2{text-align:center;color:#7b3fe4}
input{width:100%;padding:12px;margin:10px 0;border:none;border-bottom:1px solid #ccc}
button{width:100%;padding:14px;background:#7b3fe4;color:#fff;border:none;border-radius:30px;font-size:16px}
a{text-decoration:none;color:#7b3fe4;font-size:14px}
</style>
</head>
<body>

<div class="card">
  <h2>Welcome to Biniyog</h2>

  <input id="mobile" placeholder="Mobile Number">
  <input id="password" type="password" placeholder="Password">

  <button onclick="login()">LOGIN</button>

  <p style="text-align:center">
    <a href="forgot.html">Forgot password?</a><br>
    <a href="signup.html">Open new account</a>
  </p>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import { getAuth, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyBFsTzlRPoWHVXEHbKrPdwxslxZGa7Kqfw",
  authDomain: "biniyog-95d00.firebaseapp.com",
  projectId: "biniyog-95d00"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

onAuthStateChanged(auth, (user)=>{
  if(user){
    location.href="dashboard.html";
  }
});

window.login = ()=>{
  const mobile = document.getElementById("mobile").value;
  const pass = document.getElementById("password").value;
  const email = mobile + "@biniyog.com";

  signInWithEmailAndPassword(auth, email, pass)
  .then(()=> location.href="dashboard.html")
  .catch(err=> alert(err.message));
};
</script>
</body>
</html>
