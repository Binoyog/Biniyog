<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<title>Task | Biniyog</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial;
  background:skyblue;
}
.header{
  background:#0288d1;
  color:#fff;
  padding:15px;
  text-align:center;
  font-size:20px;
}
.card{
  background:#fff;
  margin:20px;
  padding:15px;
  border-radius:10px;
}
.card h3{margin:0 0 10px;color:#0288d1}
.card p{margin:6px 0;font-size:15px}
</style>
</head>

<body>

<div class="header">My Task</div>
<div id="content"></div>

<script>
let plan = JSON.parse(localStorage.getItem("userPlan"));
let balance = Number(localStorage.getItem("balance")) || 100;

if(!plan){
  document.getElementById("content").innerHTML =
  `<div class="card">কোনো প্ল্যান পাওয়া যায়নি</div>`;
}else{
  let today = new Date();
  let end = new Date(plan.endDate);

  if(today >= end && !plan.paid){
    balance += plan.price;
    localStorage.setItem("balance", balance);
    plan.paid = true;
    localStorage.setItem("userPlan", JSON.stringify(plan));
  }

  document.getElementById("content").innerHTML = `
  <div class="card">
    <h3>${plan.name}</h3>
    <p>প্লান মূল্য: ৳${plan.price}</p>
    <p>কেনার তারিখ: ${plan.buyDate}</p>
    <p>মেয়াদ শেষ: ${plan.endDate}</p>
    <p><b>বর্তমান ব্যালেন্স:</b> ৳${balance}</p>
  </div>`;
}
</script>

</body>
</html>
