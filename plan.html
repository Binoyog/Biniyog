<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<title>Investment Plan | Biniyog</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:#f1f1f1;
}
.header{
    background:#0d47a1;
    color:#fff;
    padding:15px;
    text-align:center;
    font-size:20px;
}
.plan{
    background:#fff;
    margin:15px;
    padding:15px;
    border-radius:12px;
    box-shadow:0 2px 6px rgba(0,0,0,0.15);
}
.plan h3{
    margin:0 0 10px;
    color:#0d47a1;
}
.plan p{
    margin:6px 0;
    font-size:15px;
}
button{
    margin-top:12px;
    width:100%;
    padding:12px;
    font-size:16px;
    border:none;
    border-radius:8px;
    background:#2e7d32;
    color:#fff;
}
button:active{
    opacity:0.8;
}
.balance-box{
    background:#fff;
    margin:15px;
    padding:12px;
    border-radius:10px;
    text-align:center;
    font-size:18px;
    font-weight:bold;
}
</style>
</head>

<body>

<div class="header">Available Investment Plans</div>

<div class="balance-box">
    Current Balance: ৳ <span id="balance">0</span>
</div>

<!-- PLANS -->

<div class="plan">
<h3>উইন্ডমিল প্লান</h3>
<p>বিনিয়োগ: ৳1,000</p>
<p>২৪ ঘন্টায় আয়: ৳197</p>
<p>মেয়াদ: 10 দিন</p>
<button onclick="buyPlan('উইন্ডমিল প্লান',1000,10)">Buy Plan</button>
</div>

<div class="plan">
<h3>শেয়ার প্লান</h3>
<p>বিনিয়োগ: ৳2,000</p>
<p>২৪ ঘন্টায় আয়: ৳470</p>
<p>মেয়াদ: 10 দিন</p>
<button onclick="buyPlan('শেয়ার প্লান',2000,10)">Buy Plan</button>
</div>

<div class="plan">
<h3>শেয়ার প্লান</h3>
<p>বিনিয়োগ: ৳5,000</p>
<p>২৪ ঘন্টায় আয়: ৳1,280</p>
<p>মেয়াদ: 10 দিন</p>
<button onclick="buyPlan('শেয়ার প্লান',5000,10)">Buy Plan</button>
</div>

<div class="plan">
<h3>ন্যাশনাল প্লান</h3>
<p>বিনিয়োগ: ৳20,000</p>
<p>২৪ ঘন্টায় আয়: ৳5,500</p>
<p>মেয়াদ: 6 দিন</p>
<button onclick="buyPlan('ন্যাশনাল প্লান',20000,6)">Buy Plan</button>
</div>

<script>
// default balance (new user)
let balance = Number(localStorage.getItem("balance"));
if(!balance){
    balance = 100;
    localStorage.setItem("balance", balance);
}
document.getElementById("balance").innerText = balance;

function buyPlan(name, price, days){
    let currentBalance = Number(localStorage.getItem("balance"));

    if(currentBalance < price){
        alert("❌ পর্যাপ্ত ব্যালেন্স নেই");
        return;
    }

    let today = new Date();
    let endDate = new Date();
    endDate.setDate(today.getDate() + days);

    let planData = {
        name: name,
        price: price,
        buyDate: today.toDateString(),
        endDate: endDate.toDateString(),
        paid: false
    };

    // save plan
    localStorage.setItem("userPlan", JSON.stringify(planData));

    // deduct balance
    currentBalance -= price;
    localStorage.setItem("balance", currentBalance);

    alert("✅ প্ল্যান সফলভাবে কেনা হয়েছে");
    window.location.href = "task.html";
}
</script>

</body>
</html>
